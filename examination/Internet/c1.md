# 计算机网络概述
网络的两个重要基本特点：
* 连通性
* 共享性

网络
* 网络：把许多计算机连接在一起
* 主机：与网络相连的计算机
* 互联网：把许多网络通过路由器连接在一起

概念澄清：
* internet:互连网，泛指多个计算机相连接组成的`网络`
* Internet：互联网，全球最大，由众多网络相互连接组成的特定计算机网络

## 发展阶段
1. 单个`ARPANET`->互联网：1983年TCP/IP成为ARPANET的标准协议所以1983作为互联网诞生时间
2. 三级结构：主干网，地区网，校园网或企业网
3. 多层次ISP(Internet Service Provider｜互联网服务供应商)结构的互联网

# 互联网组成及分组交换
## 互联网组成
* 边缘部分：有所有连接在Internet上的主机组成
  * 用户直接使用（传递数据，资源共享）
* 核心部分：由大量网络和连接这些网络的路由器组成
  * 为边缘部分提供服务

## 边缘部分
端系统两种通信方式：
* CS（Client/Server）：客户服务器方式
  * 客户是服务的请求方，服务器是服务的提供方
* P2P（Peer To Peer）：对等方式
  * 两个主机在通信时不区分哪一个是服务的请求方/提供方
  * 对等连接方式从本质上看仍然是使用客户服务器方式，只是对等连接中的每一个主机既是客户又是服务器。

## 核心部分
* 网络中的核心部分要向边缘部分中的大量主机提供`连通性`，使边缘部分中的任意主机能向其它主机通信
* 起特殊作用的是`路由器`

### 主机与路由器区别
* 主机:为用户进行信息处理,并向网络发送/接收分组
* 路由器:实现`分组交换`,对分组进行`存储转发`,最后把分组交给`主机`

### 数据交换方式
* 电路交换:以电路联接为目的的交换方式
  * 这种连接方法需要的电线对的数量与设备数的平方成正比。
  * 电路交换的三个阶段
    * 建立连接
    * 通信
    * 释放连接
  * 不适用于计算机通信，因为计算机数据具有`突发性`
* 分组交换
  * 是以`分组`为单位进行传输和交换的，它是一种`存储-转发`交换方式
  * 分组的`首部`都含有`地址`等控制信息
  * 存储-转发:路由器收到一个分组，先暂时存储下来，再检查其`首部`，查找转发表，按照`首部中的目的地址`，找到合适的接口转发出去
    * 分组交换网中的结点交换机根据收到的分组的首部中的地址信息，把分组转发到下一个结点交换机。
    * 用这样的存储转发方式，最后分组就能到达最终目的地
  * 优点:在分组传输的过程中`动态分配`传输带宽，对通信链路是逐段占用
  * 问题:
    * 分组在各结点存储转发时需要`排队`，这就会造成一定的`时延`
    * 分组必须携带的首部（里面有必不可少的控制信息）也造成了一定的开销
* 报文交换


## 性能指标
### 速率
* 比特(bit):数据量的单位,一个比特就是二进制数字中的一个 1或 0
* 比特率/数据率:数据的传送效率
  * 单位:bit/s,kbit/s,Mbit/s,Gbit/s

### 带宽
* 本意:频带宽度,单位赫,千赫
* 计网中:表示网络中某通道传送数据的能力,单位:bit/s

### 吞吐量
* 表示在单位时间内通过某个网络（或信道、接口）的数据量
* 经常地用于对现实世界中的网络的一种测量，以便知道实际上到底有多少数据量能够通过网络。
* 量受网络的带宽或网络的额定速率的限制

###　时延
* 指数据（一个报文或分组，甚至比特）从网络（或链路）的一端传送到另一端所需的时间
  * 发送时延：传送时延，数据帧从结点进入到传输媒体所需要的时间。
    * 数据帧长度(bit)/发送速率(bit/s)
  * 传播时延:电磁波在信道中传播需要一定时间
    * 信道长度(m)/信号在信道上的传播速率(m/s)
  * 处理时延:主机或路由器在收到分组时，为处理分组（例如分析首部、提取数据、差错检验或查找路由）所花费的时间
  * 排队时延:分组在路由器输入输出队列中排队等待处理所经历的时延
    * 取决于网络中当时的通信量

**线路宽窄的区别**
* 宽带线路和窄带线路上比特的传播速率是一样的
* 宽带线路：每秒有更多比特从计算机注入到线路，传播间隔更短

### 时延带宽积
* 定义：传播时延*带宽：以比特为单位的链路长度

### 往返时间RTT
定义：从发送方发送数据到发送方接受到来自接收方的确认。总共经历的时间

### 利用率
* 信道利用率
  * 某信道有百分之几的时间是被利用的
  * 完全空闲的信道的利用率是零
* 网络利用率:全网络的信道利用率的加权平均值


## 非性能指标
* 费用
* 质量
* 标准化
* 可靠性
* 可扩展性
* 可升级性
* 易于管理和维护


## 网络体系结构
### 分层体系结构
* 网络中的任何一个系统都是按照层次结构来组织的，且任意端系统必须具有相同的层次
* 每层使用其下层提供的服务，并向其上层提供服务
* 实际的物理通信只在最底层完成
* 通信只在对等层间进行（间接的、逻辑的、虚拟的）非对等层之间不能互相“通信”

### 消息送到源系统的最高层
* 从最高层开始，自上而下逐层封装
* 经物理线路传送到目标系统
* 目标系统将收到的信息，自下向上逐层处理并拆封
* 由最高层将消息提交给目标进程

### 协议数据单元(PDU)
* `对等层之间`交换的信息报文统称为`协议数据单元`
* PDU由`协议控制信息`（协议头或者首部）和`数据`组成
  * 协议头中含有完成数据传输所需的控制信息:地址，序号，长度，分段标志，差错控制信息
* 下层把上层的PDU作为本层的数据，然后加入本层的协议首部（和尾部）加以封装，形成本层的PDU
* 封装：就是在数据前面加上特定的协议首部

>因此，数据在源站自上而下递交的过程实际上就是不断`封装`的过程。到达目的地后自下而上递交的过程就是不断`拆封`的过程

### 网络协议
* 计算机网络中的数据交换必须遵守事先约定好的规则
* 为进行网络中的数据交换而建立的规则、标准或约定即`网络协议`(network protocol)，简称为协议

计算机网络的体系结构是`计算机网络`各层与`网络协议`的集合

### 两种标准
* OSI/RM(Open Systems Interconnection Reference Model):开放系统互连参考模型
* TCP/IP

**OSI**自底向上
1. 物理层
2. 数据链路层
3. 网络层
4. 运输层
5. 会话层
6. 表示层
7. 应用层

> 结合抽象图形记忆

**TCP/IP**自底向上
1. 网络接口层
2. 网际层ＩＰ
3. 运输层ＴＣＰ／ＵＤＰ
4. 应用层

**五层协议体系结构**
1. 物理层
2. 数据链路层
3. 网络层
4. 传输层
5. 应用层


## 不同类别的网络
### 按照作用范围分类
* 广域网（WAN）：几十-几千公里
* 城域网（MAN）：5-50公里
* 局域网（LAN）：1公里左右
* 个人区域网（PAN）：10米左右

### 按照网络的使用者分类
* 公用网
* 专用网

## 补充
* 计算机网络中的结点（Node）是指 `在通信线路与主机之间设置的通信线路控制处理机`
* 计算机网络共享的资源是`计算机的软件、硬件与数据`
* 网络协议中规定通信双方要发出什么控制信息，执行的动作和返回的应答的部分称`语义部分`
* 网络体系结构为什么采用分层次结构：
  * 每一层相互独立，使用其下层提供的服务，并向其上层提供服务
* 数据传输效率：`发送的应用层数据/发送的总数据`